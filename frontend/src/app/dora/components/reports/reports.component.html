<div class="reports-container">
  <mat-spinner class="spinner" *ngIf="loading"></mat-spinner>

  <app-throughput-report
    *ngIf="reportResponse?.completedCardsNumber && reportResponse?.completedCardsNumber?.length !== 0"
    [completedCardsNumber]="reportResponse.completedCardsNumber"
  >
  </app-throughput-report>

  <app-time-allocation-report
    *ngIf="reportResponse?.blockedAndDevelopingPercentage"
    [blockedAndDevelopingPercentage]="reportResponse.blockedAndDevelopingPercentage"
  > </app-time-allocation-report>

  <app-average-cycle-time-report
    *ngIf="reportResponse?.standardDeviation"
    [standardDeviation]="reportResponse.standardDeviation"
  >
  </app-average-cycle-time-report>

  <app-block-reason-percentage-report
    *ngIf="reportResponse?.latestSprintBlockReason"
    [latestSprintBlockReason]="reportResponse.latestSprintBlockReason"
  >
  </app-block-reason-percentage-report>

  <app-velocity-report *ngIf="reportResponse?.velocity" [velocity]="reportResponse.velocity"></app-velocity-report>

  <app-cycle-time-report
    *ngIf="reportResponse?.cycleTime"
    [cycleTime]="reportResponse.cycleTime"
  ></app-cycle-time-report>

  <app-classification-report
    *ngIf="reportResponse?.classification && reportResponse?.classification?.length !== 0"
    [classifications]="reportResponse.classification"
  >
  </app-classification-report>

  <app-deployment-frequency-report
    *ngIf="reportResponse?.deploymentFrequency"
    [deploymentFrequency]="reportResponse.deploymentFrequency"
  ></app-deployment-frequency-report>

  <app-lead-time-report *ngIf="reportResponse?.leadTimeForChanges" [leadTime]="reportResponse.leadTimeForChanges">
  </app-lead-time-report>

  <app-failure-rate-report
    *ngIf="reportResponse?.changeFailureRate"
    [failureRate]="reportResponse.changeFailureRate"
  ></app-failure-rate-report>

  <app-mean-time-to-recovery-report
    *ngIf="reportResponse?.meanTimeToRecovery"
    [meanTimeToRecovery]="reportResponse.meanTimeToRecovery"
  ></app-mean-time-to-recovery-report>

  <p class="reports-container__message reports-container__message--error" *ngIf="!loading && !reportResponse">
    Ops, Something went wrong. Please try again later...
  </p>

  <div
    class="reports-container__buttons"
    [ngClass]="reportResponse ? 'reports-container__buttons' : 'reports-container__buttons--center'"
    *ngIf="!loading"
  >
    <button mat-raised-button matStepperPrevious>Back</button>
    <app-export-csv
      [includeBoardData]="includeBoardData"
      [includePipelineData]="includePipelineData"
      [csvTimeStamp]="csvTimeStamp"
    ></app-export-csv>

    <app-export-excel
      [csvTimeStamp]="csvTimeStamp"
    ></app-export-excel>

  </div>



</div>
